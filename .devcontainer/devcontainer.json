{
	"build": {
		"dockerfile": "Dockerfile"
	},
	"name": "pathpyG-torch2.8.0-cuda12.9",
	"customizations": {
		"vscode": {
			"extensions": [
				"ms-python.python",
				"ms-toolsai.jupyter",
				"charliermarsh.ruff",
				"ms-python.mypy-type-checker"
			],
			"settings": {
				"[python]": {
					"analysis.languageServerMode": "light",
					"editor.defaultFormatter": "charliermarsh.ruff",
					"notebook.defaultFormatter": "charliermarsh.ruff",
					"mypy-type-checker.importStrategy": "fromEnvironment"
				}
			}
		},
		// Add IDs of extensions you want to be installed when container is created.
		"extensions": [
			"ms-python.python",
			"ms-toolsai.jupyter",
			"charliermarsh.ruff",
			"ms-python.mypy-type-checker"
		]
	},
	// Use GPU for CUDA
	"runArgs": [
		"-it",
		"--gpus",
		"all"
	],
	// Install pathpyG as editable python package
	// Use optional dependencies 'vis' for visualization (manim) and 'cu129' for CUDA 12.9 support
	// (change 'cu129' to 'cpu' if you want to use the CPU version of PyTorch and PyTorch Geometric)
	"postCreateCommand": "uv sync --frozen --extra vis --extra cu129 && git config --global --add safe.directory /workspaces/pathpyG",
	"remoteEnv": {
		"PATH": "/workspaces/pathpyG/.venv/bin:${containerEnv:PATH}"
	},
	"features": {
		"ghcr.io/prulloac/devcontainer-features/latex:1": {
			"scheme": "minimal",
			"mirror": "https://mirror.ctan.org/systems/texlive/tlnet/",
			"packages": "tikz-network,standalone,xcolor,xifthen,tools,ifmtarg,pgf,datatool,etoolbox,tracklang,amsmath,trimspaces,epstopdf-pkg,dvisvgm"
		}
	}
}
